# Игровая симуляция казино с гусями на кастомных коллекциях

## Что вообще происходит
- Игроки играют в казино. Если игрок выигрывает - получает плюс ставку, проигрывает - минус ставку.
- Если баланс игрока доходит до нуля - игрок умирает (хардкор казино).
- По казино бегают гуси. Гуси могут красть фишки у игроков.
- Гуси бегают хаотично и иногда сталкиваются. Когда гуси сталкиваются - они объединяются в стаю.
- Если сталкиваются гуси из одной стаи - один из гусей обижается и уходит из стаи.
- Кроме обычных гусей есть гуси с особыми способностями. Если гусь применяет способность, то и вся стая применяет свои способности.
- Способность HonkGoose - крик. Гусь может кричать на случайного игрока. Крик увеличивает панику игрока.
- Паника игрока влияет на размер ставки и шанс выигрыша. Чем больше паника - тем больше игрок поставит и тем меньше шанс выиграть.
- Способность WarGoose - удар. Гусь атакует случайного игрока. Атака уменьшает здоровье игрока.
- Когда здоровье игрока доходит до 0 - он умирает.
- Гуси не могут проиграть или умереть. Тотальная доминация.

## Симуляция
Есть возможность запустить симуляцию всего вышеописанного хаоса с определенными параметрами. Параметры симуляции определяются в `main.py`.
Для симуляции создаются случайные игрока и гуси в соответствие с параметрами, также можно задать количество шагов симуляции.
При запуске симуляции с одинаковым `seed` результат будет одинаковым. `seed` задается в первой строке функции `main()`.

За один шаг симуляции случайно могут произойти следующие вещи:
- все игроки могут крутануть рулетку
- проигравшие игроки могут умереть
- бегающие гуси могут столкнуться и объединиться в стаю
- бегающие гуси могут столкнуться и выйти из стаи
- WarGoose может атаковать игрока (и даже убить)
- HonkGoose может накричать на игрока
- гусь может украсть фишки у игрока

Симуляция заканчивается, когда заканчиваются живые игроки. Гусиный мир побеждает.<br>
На каждом этапе симуляции в лог выводится состояние казино. Также выводятся случившиеся события.

## Что и где искать
- Пользовательские списковые коллекции в `list_collections`. Также есть `GooseGroup` в `entities.goose`.
- Пользовательская словарная коллекция в `dict_collections`.
- Различное поведение через наследование - `_ability` в `WarGoose` и `HonkGoose`.
- Магические методы предметной области - например, `Goose.__iadd__` или `GooseGroup.__iadd__`.
- Случайные события - всё что связано с `events` в `Casino`. Один вызов `Casino.__event...` может вызывать несколько разных событий.
- `random` внутри методов гусей и игроков, `seed` задается в `main()`.
- Индексация и поиск должны работать корректно. А почему бы им не работать? Даже срезы работают.

### Если какое-то решение кажется кривым, странным и нелогичным, скорее всего это - попытка подогнать под немного (много) странное ТЗ.

## Установка, запуск и использование
```shell
git clone https://github.com/TheMrKan/GooseCasinoSim
cd GooseCasinoSim
```

Для работы не требуются какие-либо зависимости.<br>
**Не забываем настроить симуляцию в `main.py`. CLI в сделку не входил.**<br>
Запускаем:
```shell
python3 -m src.main
```
